
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Garçom - Pedido de Pizza</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    input, select, button { padding: 10px; margin: 5px 0; width: 100%; }
    #pedidos { margin-top: 20px; }
  </style>
</head>
<body>
  <h1>Painel do Garçom</h1>
  <form id="pedidoForm">
    <input type="text" id="mesa" placeholder="Número da Mesa" required />
    <input type="text" id="sabor" placeholder="Sabor da Pizza" required />
    <input type="text" id="observacao" placeholder="Observações" />
    <button type="submit">Enviar Pedido</button>
  </form>

  <div id="notificacoes" style="margin-top:30px; color:green;"></div>

  <script>
    const pedidoForm = document.getElementById('pedidoForm');
    const notificacoes = document.getElementById('notificacoes');

    pedidoForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const mesa = document.getElementById('mesa').value;
      const sabor = document.getElementById('sabor').value;
      const observacao = document.getElementById('observacao').value;

      const pedido = { mesa, sabor, observacao, pronto: false };
      let pedidos = JSON.parse(localStorage.getItem('pedidos') || '[]');
      pedidos.push(pedido);
      localStorage.setItem('pedidos', JSON.stringify(pedidos));

      alert('Pedido enviado para a cozinha!');
      pedidoForm.reset();
    });

    // Recebe notificação da cozinha
    setInterval(() => {
      const pedidos = JSON.parse(localStorage.getItem('pedidos') || '[]');
      const prontos = pedidos.filter(p => p.pronto && !p.notificado);
      if (prontos.length) {
        notificacoes.innerHTML = prontos.map(p => `Pizza da Mesa ${p.mesa} está pronta!`).join("<br>");
        prontos.forEach(p => p.notificado = true);
        localStorage.setItem('pedidos', JSON.stringify(pedidos));
      }
    }, 2000);
  </script>
</body>
</html>
